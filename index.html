<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>FoodWise ‚Äì Smart Food & Party App</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}
body{
  min-height:100vh;
  background:linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.6)),
  url("https://images.unsplash.com/photo-1600891964599-f61ba0e24092");
  background-size:cover;background-attachment:fixed;color:#fff;
}
header{text-align:center;padding:25px}
header h1{font-size:2.4rem}
header p{opacity:.9}

.container{
  max-width:900px;margin:auto;
  background:rgba(255,255,255,.12);
  padding:25px;border-radius:20px;
  backdrop-filter:blur(12px)
}

label{margin-top:10px;display:block}
input{width:100%;padding:12px;border-radius:10px;border:none;margin-top:6px}
input[type=range]{accent-color:#ff9800}

.suggestions{
  background:#fff;color:#000;
  border-radius:10px;position:absolute;
  z-index:10;width:100%
}
.suggestions div{padding:10px;cursor:pointer}
.suggestions div:hover{background:#ffe0b2}

.range-box span{font-weight:bold}

.restaurants{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:20px;padding:25px
}

.card{
  background:rgba(255,255,255,.15);
  padding:20px;border-radius:18px;
  transition:.3s;cursor:pointer;
  position:relative
}
.card:hover{transform:translateY(-8px)}

.badge{
  background:#ff5722;padding:4px 10px;
  border-radius:20px;font-size:.75rem;
  position:absolute;top:10px;right:10px
}

.rating{color:gold}

button{
  width:100%;padding:12px;
  border:none;border-radius:12px;
  background:#ff9800;font-weight:bold;
  margin-top:10px;cursor:pointer
}

#details{display:none;padding:25px}
.details-card{
  max-width:500px;margin:auto;
  background:#fff;color:#000;
  padding:25px;border-radius:22px
}

.back{color:#ff9800;font-weight:bold;cursor:pointer}

.party-section{
  margin-top:20px;background:rgba(0,0,0,.1);
  padding:15px;border-radius:15px;color:#fff
}

.party-equipment div{
  margin:5px 0;padding:8px;
  background:#fff;color:#000;
  border-radius:8px;
  display:flex;justify-content:space-between
}

.party-equipment input{width:60px}
</style>
</head>

<body>

<header>
  <h1>üçΩ FoodWise</h1>
  <p>CCI ‚Ä¢ Delivery Time ‚Ä¢ Plates ‚Ä¢ Party Mode</p>
</header>

<div class="container">
  <label>üìç Location</label>
  <input id="locInput" placeholder="Select area in Guntur...">
  <div id="locSug" class="suggestions"></div>

  <label>üçõ Food</label>
  <input id="foodInput" placeholder="Type food...">
  <div id="foodSug" class="suggestions"></div>

  <div class="range-box">
    <label>‚öñ Quantity</label>
    <input type="range" min="0" max="1000" value="0" id="qty">
    <span id="qtyVal">0 g (No plate)</span>
  </div>
</div>

<section class="restaurants" id="list"></section>
<section id="details"></section>

<script>
// ---------- DATA ----------
const locations=[
  "Brodipet","Arundelpet","Lakshmipuram",
  "Chuttugunta","Pattabhipuram",
  "Nallapadu","Syamalanagar",
  "Kothapet","Gorantla","Reddy Pet"
];

const foods=["Biryani","Pizza","Burger","Paneer","Fried Rice","Rolls"];

const equipment=["Disposable Plates","Cups","Napkins","Serving Trays"];

const restaurants=[];
locations.forEach(loc=>{
  foods.forEach(food=>{
    for(let i=1;i<=3;i++){
      restaurants.push({
        name:`${food} Hub ${i}`,
        location:loc,
        food,
        rating:(4+Math.random()).toFixed(1),
        cci:(1.4+Math.random()*0.6).toFixed(2),
        time:20+Math.floor(Math.random()*20)+" mins",
        base:160+Math.random()*120,
        isNew:Math.random()>0.7
      });
    }
  });
});

// ---------- ELEMENTS ----------
const locInput=document.getElementById("locInput");
const foodInput=document.getElementById("foodInput");
const qty=document.getElementById("qty");
const qtyVal=document.getElementById("qtyVal");
const list=document.getElementById("list");
const details=document.getElementById("details");

// ---------- RANGE ----------
qty.oninput=()=>{
  const g=+qty.value;
  let plate="",serves="";
  if(g===0){plate="No plate"}
  else if(g<=125){plate="Quarter Plate";serves="Serves 1"}
  else if(g<=250){plate="Half Plate";serves="Serves 1‚Äì2"}
  else if(g<=500){plate="Full Plate";serves="Serves 2‚Äì3"}
  else if(g<=750){plate="1¬Ω Plates";serves="Serves 3‚Äì4"}
  else{plate="2 Plates";serves="Serves 4‚Äì5"}

  qtyVal.innerText=`${g} g (${plate}) ${serves}`;
  load();
};

// ---------- SUGGESTIONS ----------
function showSuggestions(input,arr,box){
  box.innerHTML="";
  const val=input.value.toLowerCase();
  if(!val) return;
  arr.filter(x=>x.toLowerCase().includes(val)).forEach(x=>{
    const d=document.createElement("div");
    d.innerText=x;
    d.onclick=()=>{input.value=x;box.innerHTML="";load();}
    box.appendChild(d);
  });
}

locInput.oninput=()=>showSuggestions(locInput,locations,locSug);
foodInput.oninput=()=>showSuggestions(foodInput,foods,foodSug);

// ---------- LOAD ----------
function load(){
  list.innerHTML="";
  details.style.display="none";
  list.style.display="grid";

  const match=restaurants.filter(r=>
    (!locInput.value||r.location===locInput.value)&&
    (!foodInput.value||r.food===foodInput.value)
  );

  if(match.length===0){
    list.innerHTML="<p style='grid-column:1/-1;text-align:center'>‚ùå No restaurants found</p>";
    return;
  }

  match.forEach(r=>{
    const price=Math.round(r.base/250*qty.value);
    const card=document.createElement("div");
    card.className="card";
    card.onclick=()=>openDetails(r);
    card.innerHTML=`
      ${r.isNew?'<div class="badge">NEW</div>':''}
      <h3>${r.name}</h3>
      <p>üìç ${r.location}</p>
      <p class="rating">‚≠ê ${r.rating}</p>
      <p>üìä CCI: ${r.cci}</p>
      <p>‚è± ${r.time}</p>
      <p>üí∞ ‚Çπ${price}</p>
      <button>View</button>`;
    list.appendChild(card);
  });
}

// ---------- DETAILS ----------
function openDetails(r){
  const g=+qty.value;
  const price=Math.round(r.base/250*g);
  list.style.display="none";
  details.style.display="block";

  let partyHTML=equipment.map(e=>
    `<div>${e}<input type="number" id="qty_${e.replace(/\s/g,'')}" value="0"></div>`
  ).join("");

  details.innerHTML=`
  <div class="details-card">
    <span class="back" onclick="load()">‚Üê Back</span>
    <h2>${r.food}</h2>
    <h3>${r.name}</h3>
    <p>üìç ${r.location}</p>
    <p>‚≠ê ${r.rating}</p>
    <p>üìä CCI: ${r.cci}</p>
    <p>‚è± Delivery: ${r.time}</p>
    <p>‚öñ ${g} g</p>
    ${g>=750?'<p style="color:#ff5722;font-weight:bold">üéâ Party Combo Recommended</p>':''}
    <p>üí∞ ‚Çπ${price}</p>

    <button>Add to Cart</button>

    <div class="party-section">
      <button id="showParty">üéâ Party Mode</button>
      <div id="partyItems" style="display:none">
        <h3>Party Items</h3>
        <div class="party-equipment">${partyHTML}</div>
        <button onclick="alert('Party bundle added!')">Add Party Bundle</button>
      </div>
    </div>
  </div>`;

  document.getElementById("showParty").onclick=()=>{
    const p=document.getElementById("partyItems");
    p.style.display=p.style.display==="none"?"block":"none";
    let people=g<=250?2:g<=500?3:g<=750?4:5;
    equipment.forEach(e=>{
      const el=document.getElementById("qty_"+e.replace(/\s/g,''));
      if(e.includes("Plate")||e.includes("Cup")) el.value=people;
      if(e.includes("Napkin")) el.value=people*2;
      if(e.includes("Tray")) el.value=Math.ceil(people/2);
    });
  };
}

load();
</script>

</body>
</html>
